<!DOCTYPE html>
<html>
<head>
	<title>d3 play</title>
	<style>
	 #text{
	 	font-size:24px;
	 }
	</style>
</head>
<body>
<script src="d3.v3.min.js"></script>

<h1>This is a tutorial!</h1>
<text id="sub1">sub1</text>
<text class="sub2">sub2</text>


<script>
var body = d3.select("body");
console.log(body);
var text = body.append("text");
console.log(text);

text.text("Hello!");
text.style("color","#f00");
text.attr("id","text");

var heading = d3.select("h1").style("color","#ff00ff");
var sub1 = d3.select("#sub1").style("color","#0f0");
var sub2 = d3.select(".sub2").style("color","#00f");

sub1.append("br");

sub2.append("br");

var data = [];
for(var i=0;i<25;i++){
 data.push(i);
}
console.log(data);

var container = d3.select("body").append("div").attr("id","container");

var data_text_selection = container.selectAll("text");
var data_text_elements = data_text_selection.data(data).enter().append("text");

console.log(data_text_elements);

// data_text_elements.text(function(content){console.log(content);return content}).append("br");
// data_text_elements.style("fill", "#f00");

container.selectAll("text").remove();

var svgContainer = container.append("svg");
svgContainer.attr("width", 300).attr("height", 200);

var circle = svgContainer.append("circle")
 .attr("cx", 25)
 .attr("cy", 25)
 .attr("r", 20 )
 .style("fill", '#f00');

function Zfree_definable_function (argument) {
 	console.log("cleek");
 	circle.attr("cx",100).style("fill","#0f0");
}

function Z2free_definable_function(){
 var mouseCoordX = (d3.mouse(this)[0]);
 circle.attr("cx",mouseCoordX+25).style("fill","#0f0");
}

function free_definable_function(){
	console.log("event", d3.event);
 var mouseCoordX = (d3.mouse(this)[0]);
 circle.transition().ease('bounce').duration(1000).delay(250)
  .attr("cx",mouseCoordX+50).style("fill","#0f0");
}
 circle.on("mousedown",free_definable_function);


var rectangleCoors = [50, 100, 150];

var rectangles = svgContainer.selectAll("rect").data(rectangleCoors).enter().append("rect");
 rectangles.attr("x", 50)
  .attr("y", function(d){return d})
  .attr("width", 25)
  .attr("height", 25)
  .style("fill","#00f");


var clicked = false;
function moveRectangle(){
 if(clicked==false){ var color='#f00'; clicked=true; var destination=1;}
 else{ var color='#00f'; clicked=false; var destination=-1;}
 rectangles.transition().ease("back").duration(1000)
    .style("fill",color)
    .attr("x",function(d){ console.log(d); return d+(25*destination)});
}

rectangles.on("mousedown",moveRectangle);
</script>


</body>
</html>